<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Tutor | Grade Target</title>
    <!-- Tailwind CSS CDN for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Outfit font for clean and modern typography -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center py-8">
    <div class="container mx-auto bg-white shadow-xl rounded-xl overflow-hidden">
        <!-- Header Section -->
        <header class="header bg-white rounded-t-xl">
            <div class="header-content p-8 text-center">
                <div class="logo flex items-center justify-center text-indigo-600 mb-3">
                    <i class="fas fa-robot text-5xl mr-4"></i>
                    <h1 class="text-4xl font-bold">AI Tutor</h1>
                </div>
                <p class="subtitle text-gray-600 text-xl">Your interactive study assistant</p>
            </div>
            <div class="header-decoration"></div>
        </header>

        <!-- Main Content -->
        <main class="main-content p-8 space-y-10">
            <!-- AI Tutor Section -->
            <section class="card bg-white p-6 rounded-lg shadow-md">
                <div class="section-header mb-8 text-center">
                    <h2 class="text-3xl font-semibold text-gray-800 mb-3"><i class="fas fa-question-circle text-indigo-500 mr-3"></i> Ask the AI Tutor</h2>
                    <p class="text-gray-600 text-lg">Get help with your study questions</p>
                </div>

                <form id="tutorForm" class="space-y-6">
                    <div class="input-group">
                        <label for="question" class="block text-gray-700 text-base font-medium mb-2">Your Question</label>
                        <textarea id="question" name="question" rows="4" class="form-input block w-full" placeholder="e.g., Explain the process of photosynthesis."></textarea>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="input-group">
                            <label for="learningLevel" class="block text-gray-700 text-base font-medium mb-2">Learning Level (Bloom's Taxonomy)</label>
                            <select id="learningLevel" name="learningLevel" class="form-select block w-full">
                                <option value="Remembering">Remembering</option>
                                <option value="Understanding">Understanding</option>
                                <option value="Applying">Applying</option>
                                <option value="Analyzing">Analyzing</option>
                                <option value="Evaluating">Evaluating</option>
                                <option value="Creating">Creating</option>
                            </select>
                        </div>

                        <div class="input-group">
                            <label for="contextFile" class="block text-gray-700 text-base font-medium mb-2">Context File (Optional)</label>
                            <input type="file" id="contextFile" name="contextFile" class="form-input block w-full" accept=".txt">
                        </div>
                    </div>

                    <div class="form-actions flex justify-center mt-8">
                        <button type="submit" class="btn btn-primary px-10 py-4 text-white font-bold text-xl rounded-full shadow-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transform transition-transform duration-200 hover:scale-105">
                            <i class="fas fa-lightbulb mr-3"></i> Generate Answer
                        </button>
                    </div>
                </form>
            </section>

            <!-- Answer Section -->
            <section id="answerSection" class="card bg-white p-6 rounded-lg shadow-md hidden">
                <div class="section-header mb-8 text-center">
                    <h2 class="text-3xl font-semibold text-gray-800 mb-3"><i class="fas fa-graduation-cap text-indigo-500 mr-3"></i> AI's Response</h2>
                </div>
                <div id="answer" class="text-gray-700 text-lg space-y-4">
                    <!-- AI's response will be displayed here -->
                </div>
            </section>
        </main>
    </div>

    <script src="tutor.js"></script>
    <!-- The Modal for error messages -->
    <div id="errorModal" class="modal fixed inset-0 flex items-center justify-center p-4 z-50 hidden">
        <div class="modal-content w-full max-w-xl mx-auto p-6 relative">
            <button class="modal-close absolute top-4 right-6 text-white text-3xl leading-none">&times;</button>
            <div class="modal-header text-center p-6 mb-6">
                <h3 id="modalTitle" class="text-3xl font-bold text-white">Error</h3>
            </div>
            <div id="modalBody" class="p-6 text-gray-700 text-lg space-y-4">
                <!-- Error message will be injected here -->
            </div>
            <div class="flex justify-center p-6">
                <button class="btn-primary px-6 py-2 text-white font-semibold rounded-lg shadow-md" onclick="document.getElementById('errorModal').classList.add('hidden')">Close</button>
            </div>
        </div>
    </div>
</body>
</html>
